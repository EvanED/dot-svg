<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <title>SVG + HTML </title>
    <style type="text/css">
      .tooltip {
          position:absolute;
          background:#666;
          color:#fff;
          visibility:hidden;
      }
    </style>
    <script>
      var htmlDocument = document;

      over_edge_handler = function(e) {
		              var name = this.getElementsByTagName("title")[0].textContent;
                              name = name.replace("->", "--");
                              var label = document.getElementById('tooltip--' + name);
                              label.style.visibility='visible';
                              label.style.top=e.pageY + 'px';
                              label.style.left=(e.pageX+30) + 'px';

		              var arc = this.getElementsByTagName("path")[0];
		              var arrow = this.getElementsByTagName("polygon")[0];
                              arc.setAttribute('stroke', 'blue');
                              arrow.setAttribute('stroke', 'blue');
                              arrow.setAttribute('fill', 'blue');
                        }

      out_edge_handler = function() {
		              var name = this.getElementsByTagName("title")[0].textContent;
                              name = name.replace("->", "--");
                              var label = document.getElementById('tooltip--' + name);
                              label.style.visibility='hidden';

		              var arc = this.getElementsByTagName("path")[0];
		              var arrow = this.getElementsByTagName("polygon")[0];
                              arc.setAttribute('stroke', 'red');
                              arrow.setAttribute('stroke', 'red');
                              arrow.setAttribute('fill', 'red');
                        }

      over_node_handler = function(e) {
		              var name = this.getElementsByTagName("title")[0].textContent;
                              var label = document.getElementById('tooltip--' + name);

                              if (label) {
                                  label.style.visibility='visible';
                                  label.style.top=e.pageY + 'px';
                                  label.style.left=(e.pageX+30) + 'px';
                              }

                              var ellipse = this.getElementsByTagName("ellipse")[0];
                              ellipse.oldFill = ellipse.getAttribute('fill');
                              ellipse.oldStroke = ellipse.getAttribute('stroke');
                              ellipse.setAttribute('fill', 'blue');
                              ellipse.setAttribute('stroke', 'blue');
                          }

      out_node_handler = function(e) {
		              var name = this.getElementsByTagName("title")[0].textContent;
                              var label = document.getElementById('tooltip--' + name);
                              if (label) {
                                  label.style.visibility='hidden';
                              }

                              var ellipse = this.getElementsByTagName("ellipse")[0];
                              ellipse.setAttribute('fill', ellipse.oldFill);
                              ellipse.setAttribute('stroke', ellipse.oldStroke);
                         }

      function foo() {
         var svg = document.getElementById('thesvg').getSVGDocument();
         if (!svg) {
             svg = document.getElementById('thesvg');
         }
         var all = svg.getElementsByTagName("g");

 	 for (var i=0, max=all.length; i < max; i++) {
	 	var element = all[i];
		if (element.id.match(/edge.*/)) {
			element.onmouseover = over_edge_handler;
			element.onmouseout = out_edge_handler;
 		}
 		else if (element.id.match(/node.*/)) {
			element.onmouseover = over_node_handler;
			element.onmouseout = out_node_handler;
 		}
	}
      }
    </script>
  </head>
  <body id="body" onload="javascript:foo()">

    <p>
      <object height='900' type='image/svg+xml' width='500' id='thesvg'>
         <!--SVG-->
      </object>
    </p>

    <!--HOVER--> <div class="tooltip" id="tooltip--{TITLE}">{HOVER}</div>

  </body>
</html>

